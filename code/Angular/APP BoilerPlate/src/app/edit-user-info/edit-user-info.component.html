<div style="overflow: hidden">
  <div class="player">
    <div class="player-header" id="navbar">
      <div class="row">
        <div class="player-info">
          <div class="team">
            <a href="/team" title="{{viewModel.current_season.team.id}}">
              <img [src]="viewModel.current_season.team.avatar" [title]="viewModel.current_season.team.name"
                   [alt]="viewModel.current_season.team.acronym">
            </a>
          </div>
          <h1>
            {{viewModel.personal_info.name}}
          </h1>
          <div class="player-team">
            <a href="/team" [title]="viewModel.current_season.team.name">
              {{viewModel.current_season.team.name}}
            </a>
          </div>
        </div>
      </div>
    </div>
    <div class="player-header-placeholder"></div>
  </div>

  <div class="callout meta ">
    <div class="row">
      <div class="heading-buttons">
        <button mat-raised-button class="sc-btn btn-success" (click)="save()">Salvar</button>
        <button mat-raised-button class="sc-btn btn-danger" (click)="discard()">Descartar</button>
      </div>
      <div class="row-left">
        <div class="player-image">
          <img [src]="viewModel.personal_info.avatar" alt="Profile image"
               title="Profile" style="left: -241.5px;">
        </div>
        <div class="profile-buttons">
          <button mat-raised-button class="sc-btn btn-sc-default">Alterar</button>
        </div>
      </div>
      <div class="row-center-edit-mode centered">
        <div>
          <h2>Dados pessoais</h2>
          <form [formGroup]="userDetailsForm">
            <mat-form-field>
              <input matInput placeholder="Nome completo" formControlName="fullName"
                     [(ngModel)]="viewModel.personal_info.full_name">
            </mat-form-field>

            <mat-form-field>
              <input matInput placeholder="Altura" formControlName="height"
                     [(ngModel)]="viewModel.personal_info.height">
            </mat-form-field>

            <mat-form-field>
              <input matInput placeholder="Peso" formControlName="weight" [(ngModel)]="viewModel.personal_info.weight">
            </mat-form-field>

            <mat-form-field>
              <input matInput [matDatepicker]="picker" placeholder="Data de nascimento" formControlName="birthday"
                     required>
              <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
              <mat-datepicker #picker></mat-datepicker>
              <mat-error *ngFor="let validation of validation_messages.birthday">
                <mat-error class="error-message"
                           *ngIf="userDetailsForm.get('birthday').hasError(validation.type) && (userDetailsForm.get('birthday').dirty || userDetailsForm.get('birthday').touched)">
                  {{validation.message}}
                </mat-error>
              </mat-error>
            </mat-form-field>

            <mat-form-field>
              <mat-select formControlName="country" placeholder="País">
                <mat-option *ngFor="let country of countries" [value]="viewModel.personal_info.nationality">
                  {{country}}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field>
              <mat-select formControlName="city" placeholder="Cidade">
                <mat-option *ngFor="let city of cities" [value]="viewModel.personal_info.residence">
                  {{city}}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field>
              <mat-select formControlName="position" placeholder="Posição">
                <mat-option *ngFor="let position of positions" [value]="viewModel.personal_info.positions[0]">
                  {{position}}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field>
              <mat-select formControlName="foot" placeholder="Pé dominante">
                <mat-option *ngFor="let foot of feet" [value]="viewModel.personal_info.foot">
                  {{foot}}
                </mat-option>
              </mat-select>
            </mat-form-field>

          </form>
        </div>

        <div id="top">
          <h2>Estatística</h2>
          <mat-form-field>
            <mat-select [(ngModel)]="season.name" (change)="loadGames()" placeholder="Época">
              <mat-option *ngFor="let season of seasons" [value]="season">
                {{season.name}}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div *ngIf="player_matches != null">


          <div class="event-list">
            <mat-accordion multi="true">
              <mat-expansion-panel *ngFor="let match of player_matches; let i = index"
                                   (closed)="eventsToggled[match.id] = false"
                                   (opened)="eventsToggled[match.id] = true">
                <mat-expansion-panel-header class="event-list__header"> 27-08-1993 SLB 3 - 2 SFC 3 Golos 2 Assistências
                  34''
                </mat-expansion-panel-header>
                <div class="event-info" [id]="match.id">
                  <div class="event-info__section">
                    <div class="row">
                      <div class="col s4"><h5>Doctor</h5>
                        <ng-selectize  [options]="availableStuff" [(ngModel)]="ngModelMockVar"></ng-selectize>
                      </div>
                      <div class="col s4"><h5>Clinic</h5>
                        <ng-selectize  [options]="availableStuff" [(ngModel)]="ngModelMockVar"></ng-selectize>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col s4"><h5>Reference</h5> <input
                        [(ngModel)]="ngModelMockVar" matInput placeholder="Reference" type="number">
                        <p [hidden]="this.matchesInEdit[match.id]"> Referência </p></div>
                      <div class="col s4"><h5>Diseases/Disorders</h5>
                        <ng-selectize [enabled]="this.matchesInEdit[match.id]" [options]="availableStuff"
                                      [config]="selectizeConfig" [(ngModel)]="ngModelMockVar"></ng-selectize>
                      </div>
                      <div class="col s4"><h5>Medications</h5>
                        <ng-selectize [enabled]="this.matchesInEdit[match.id]" [options]="availableStuff"
                                      [config]="selectizeConfig" [(ngModel)]="ngModelMockVar"></ng-selectize>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col s6">
                        <button (click)="changeEditStatus(match.id)" mat-raised-button color="warn">
                          <!-- {{this.matchesInEdit[match.id] ? "Confirmar" : "Editar"}} --> Confirmar
                        </button>
                      </div>
                      <div class="col s2">
                        <button (click)="goToTop(match.id)" mat-button>Voltar ao início</button>
                      </div>
                    </div>
                  </div>
                </div>
              </mat-expansion-panel>
            </mat-accordion>
          </div>



        </div>
      </div>
    </div>
  </div>
</div>


<!--

<div class="container">
  <div class="row">
    <div class="col">
      <h2 class="section-title">{{viewModel.personal_info.full_name}}</h2>
      <form [formGroup]="userDetailsForm">
        <mat-form-field class="full-width">
          <input matInput placeholder="Nome completo" formControlName="fullname" required>
          <mat-error *ngFor="let validation of validation_messages.fullname">
            <mat-error class="error-message"
                       *ngIf="userDetailsForm.get('fullname').hasError(validation.type) && (userDetailsForm.get('fullname').dirty || userDetailsForm.get('fullname').touched)">
              {{validation.message}}
            </mat-error>
          </mat-error>
        </mat-form-field>


        <mat-form-field>
          <input matInput [matDatepicker]="picker" placeholder="Your birthday" formControlName="birthday" required>
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
          <mat-error *ngFor="let validation of validation_messages.birthday">
            <mat-error class="error-message"
                       *ngIf="userDetailsForm.get('birthday').hasError(validation.type) && (userDetailsForm.get('birthday').dirty || userDetailsForm.get('birthday').touched)">
              {{validation.message}}
            </mat-error>
          </mat-error>
        </mat-form-field>


        <mat-form-field>
          <mat-select placeholder="Gender">
            <mat-option *ngFor="let gender of genders" [value]="gender">
              {{ gender }}
            </mat-option>
          </mat-select>
          <mat-error *ngFor="let validation of validation_messages.gender">
            <mat-error class="error-message"
                       *ngIf="userDetailsForm.get('gender').hasError(validation.type) && (userDetailsForm.get('gender').dirty || userDetailsForm.get('gender').touched)">
              {{validation.message}}
            </mat-error>
          </mat-error>
        </mat-form-field>


        <div formGroupName="country_phone" class="row">
          <mat-form-field class="full-width col-4">
            <mat-select formControlName="country" placeholder="Country">
              <mat-option *ngFor="let country of countries" [value]="country">
                {{ country.name }}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <mat-form-field>
            <input matInput placeholder="Phone" type="tel" formControlName="phone" required>
            <mat-hint align="start"><strong>Mobile:</strong> {{
              userDetailsForm.value.country_phone.country.sampleMobilePhone }}
            </mat-hint>
            <mat-hint align="end"><strong>Fixed:</strong> {{
              userDetailsForm.value.country_phone.country.sampleFixedPhone }}
            </mat-hint>
            <mat-error *ngFor="let validation of validation_messages.phone">
              <mat-error class="error-message" class="error-message"
                         *ngIf="userDetailsForm.get('country_phone').get('phone').hasError(validation.type) && (userDetailsForm.get('country_phone').get('phone').dirty || userDetailsForm.get('country_phone').get('phone').touched)">
                {{ validation.message }}
              </mat-error>
            </mat-error>
          </mat-form-field>
        </div>

        <mat-form-field class="full-width">
          <textarea matInput maxlength="256" placeholder="Bio" formControlName="bio" matTextareaAutosize
                    matAutosizeMinRows="2" matAutosizeMaxRows="5"></textarea>
          <mat-hint align="start">Tell us about yourself</mat-hint>
          <mat-hint align="end">{{userDetailsForm.get('bio').value.length}} / 256</mat-hint>
          <mat-error *ngFor="let validation of validation_messages.bio">
            <mat-error class="error-message"
                       *ngIf="userDetailsForm.get('bio').hasError(validation.type) && (userDetailsForm.get('bio').dirty || userDetailsForm.get('bio').touched)">
              {{validation.message}}
            </mat-error>
          </mat-error>
        </mat-form-field>


        <button class="submit-btn" color="primary" mat-raised-button type="submit" [disabled]="!userDetailsForm.valid">
          Submit
        </button>

      </form>
    </div>


    <div class="col">
      <h2 class="section-title">Account details</h2>

      <form [formGroup]="accountDetailsForm" novalidate (ngSubmit)="onSubmitAccountDetails(accountDetailsForm.value)">

        <mat-form-field class="full-width">
          <input matInput maxlength="25" placeholder="Username" formControlName="username" required>
          <mat-error *ngFor="let validation of account_validation_messages.username">
            <mat-error class="error-message"
                       *ngIf="accountDetailsForm.get('username').hasError(validation.type) && (accountDetailsForm.get('username').dirty || accountDetailsForm.get('username').touched)">
              {{validation.message}}
            </mat-error>
          </mat-error>
        </mat-form-field>

        <mat-form-field class="full-width">
          <input matInput type="email" placeholder="Email" formControlName="email" required>
          <mat-error *ngFor="let validation of account_validation_messages.email">
            <mat-error class="error-message"
                       *ngIf="accountDetailsForm.get('email').hasError(validation.type) && (accountDetailsForm.get('email').dirty || accountDetailsForm.get('email').touched)">
              {{validation.message}}
            </mat-error>
          </mat-error>
        </mat-form-field>


        <div formGroupName="matching_passwords">
          <mat-form-field class="full-width">
            <input matInput type="password" placeholder="Password" formControlName="password" required>
            <mat-error *ngFor="let validation of account_validation_messages.password">
              <mat-error class="error-message"
                         *ngIf="accountDetailsForm.get('matching_passwords').get('password').hasError(validation.type) && (accountDetailsForm.get('matching_passwords').get('password').dirty || accountDetailsForm.get('matching_passwords').get('password').touched)">
                {{validation.message}}
              </mat-error>
            </mat-error>
          </mat-form-field>

          <mat-form-field class="full-width">
            <input matInput type="password" placeholder="Confirm Password" formControlName="confirm_password"
                   [errorStateMatcher]="parentErrorStateMatcher" required>
            <mat-error *ngFor="let validation of account_validation_messages.confirm_password">
              <mat-error class="error-message"
                         *ngIf="(accountDetailsForm.get('matching_passwords').get('confirm_password').hasError(validation.type)|| accountDetailsForm.get('matching_passwords').hasError(validation.type)) && (accountDetailsForm.get('matching_passwords').get('confirm_password').dirty || accountDetailsForm.get('matching_passwords').get('confirm_password').touched)">
                {{validation.message}}
              </mat-error>
            </mat-error>
          </mat-form-field>

        </div>

        <mat-checkbox formControlName="terms">
          I accept terms and conditions
        </mat-checkbox>
        <mat-error *ngFor="let validation of account_validation_messages.terms">
          <mat-error class="error-message"
                     *ngIf="accountDetailsForm.get('terms').hasError(validation.type) && (accountDetailsForm.get('terms').dirty || accountDetailsForm.get('terms').touched)">
            {{validation.message}}
          </mat-error>
        </mat-error>

        <button class="submit-btn" color="primary" mat-raised-button type="submit"
                [disabled]="!accountDetailsForm.valid">
          Submit
        </button>

      </form>

    </div>
  </div>
</div>
-->
