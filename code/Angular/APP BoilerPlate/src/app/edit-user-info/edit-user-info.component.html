<div style="overflow: hidden">
  <div class="player">
    <div class="player-header" id="navbar">
      <div class="row">
        <div class="player-info">
          <div class="team">
            <a href="/team" title="{{viewModel.current_season.team.id}}">
              <img [src]="viewModel.current_season.team.avatar" [title]="viewModel.current_season.team.name"
                   [alt]="viewModel.current_season.team.acronym">
            </a>
          </div>
          <h1>
            {{viewModel.personal_info.name}}
          </h1>
          <div class="player-team">
            <a href="/team" [title]="viewModel.current_season.team.name">
              {{viewModel.current_season.team.name}}
            </a>
          </div>
        </div>
      </div>
    </div>
    <div class="player-header-placeholder"></div>
  </div>

  <div class="callout meta ">
    <div class="row">
      <div class="heading-buttons">
        <button mat-raised-button class="sc-btn btn-success" (click)="save()">Salvar</button>
        <button mat-raised-button class="sc-btn btn-danger" (click)="discard()">Descartar</button>
      </div>
      <div class="row-left">
        <div class="player-image">
          <img [src]="viewModel.personal_info.avatar" alt="Profile image"
               title="Profile" style="left: -241.5px;">
        </div>
        <div class="profile-buttons">
          <button mat-raised-button class="sc-btn btn-sc-default">Alterar</button>
        </div>
      </div>
      <div class="row-center-edit-mode centered">
        <div>
          <h2>Dados pessoais</h2>
          <form [formGroup]="userDetailsForm">
            <mat-form-field>
              <input matInput placeholder="Nome completo" formControlName="name"
                     [(ngModel)]="viewModel.personal_info.name"
                     (change)="changedInput('name',$event, false)">
            </mat-form-field>

            <mat-form-field>
              <input matInput placeholder="Altura" formControlName="height"
                     [(ngModel)]="viewModel.personal_info.height"
                     (change)="changedInput('height',$event, false)">
            </mat-form-field>

            <mat-form-field>
              <input matInput placeholder="Peso" formControlName="weight"
                     [(ngModel)]="viewModel.personal_info.weight"
                     (change)="changedInput('weight',$event, false)">
            </mat-form-field>

            <mat-form-field>
              <input matInput [matDatepicker]="picker" placeholder="Data de nascimento"
                     formControlName="birthday">
              <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
              <mat-datepicker #picker></mat-datepicker>
            </mat-form-field>

            <mat-form-field>
              <mat-select formControlName="country" placeholder="País"
                          (change)="changedInput('country',$event, false)">
                <mat-option *ngFor="let country of countries" [value]="viewModel.personal_info.nationality">
                  {{country}}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field>
              <mat-select formControlName="city" placeholder="Cidade"
                          (change)="changedInput('city',$event, false)">
                <mat-option *ngFor="let city of cities" [value]="viewModel.personal_info.residence">
                  {{city}}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field>
              <mat-select formControlName="position" placeholder="Posição"
                          (change)="changedInput('position',$event, false)">
              <mat-option *ngFor="let position of positions" [value]="viewModel.personal_info.positions[0]">
                  {{position}}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field>
              <mat-select formControlName="foot" placeholder="Pé dominante"
                          (change)="changedInput('foot',$event, false)">
                <mat-option *ngFor="let foot of feet" [value]="viewModel.personal_info.foot">
                  {{foot}}
                </mat-option>
              </mat-select>
            </mat-form-field>

          </form>
        </div>

        <div id="top">
          <h2>Estatística</h2>
          <mat-form-field>
            <mat-select [(ngModel)]="season.name" (change)="loadGames()" placeholder="Época">
              <mat-option *ngFor="let season of seasons" [value]="season">
                {{season.name}}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div *ngIf="player_matches != null">
          <div class="event-list">
            <mat-accordion class="match-form">
              <mat-expansion-panel *ngFor="let match of player_matches; let _idx = index" (opened)="currentMatchIdx = _idx">
                <mat-expansion-panel-header class="event-list__header">
                  <mat-panel-title>
                    {{match.date}}
                  </mat-panel-title>
                  <mat-panel-description class="match-description">

                    <small>{{match.competition.name}}</small>

                    <img src="{{match.home_team.avatar}}">
                    <h4>{{match.home_team.name}}</h4>
                    <div class="info">

                      {{match.home_team.goals.length}}
                      -
                      {{match.away_team.goals.length}}
                    </div>

                    <h4>{{match.away_team.name}}</h4>
                    <img src="{{match.away_team.avatar}}">
                    <div class="info">
                      {{match.home_team.main_lineup[0].goals}}<img src="/assets/ball.png">
                      {{match.home_team.main_lineup[0].assists}}<img src="/assets/boots.png">
                      {{match.home_team.main_lineup[0].minutes_played}}<img src="/assets/clock.png">
                      {{match.home_team.main_lineup[0].yellow_cards}}<img src="/assets/yellow.png">
                      {{match.home_team.main_lineup[0].red_cards}}<img src="/assets/red.png">
                    </div>
                  </mat-panel-description>
                </mat-expansion-panel-header>
                <mat-form-field>
                  <input matInput ngModel="{{match.home_team.main_lineup[0].goals}}"
                         (change)="changedInput('goals',$event, true)"
                         placeholder="Golos" value="{{match.home_team.main_lineup[0].goals}}">
                </mat-form-field>
                <mat-form-field>
                  <input matInput ngModel="{{match.home_team.main_lineup[0].assists}}"
                         (change)="changedInput('assists',$event, true)"
                         placeholder="Assistências" value="{{match.home_team.main_lineup[0].assists}}">
                </mat-form-field>
                <mat-form-field>
                  <input matInput ngModel="{{match.home_team.main_lineup[0].yellow_cards}}"
                         (change)="changedInput('yellow_cards',$event, true)"
                         placeholder="Cartões Amarelo" value="{{match.home_team.main_lineup[0].yellow_cards}}">
                </mat-form-field>
                <mat-form-field>
                  <input matInput ngModel="{{match.home_team.main_lineup[0].red_cards}}"
                         (change)="changedInput('red_cards',$event, true)"
                         placeholder="Cartões Vermelho" value="{{match.home_team.main_lineup[0].red_cards}}">
                </mat-form-field>
                <mat-form-field>
                  <input matInput ngModel="{{match.home_team.main_lineup[0].minutes_played}}"
                         (change)="changedInput('minutes_played',$event, true)"
                         placeholder="Minutos jogados" value="{{match.home_team.main_lineup[0].minutes_played}}">
                </mat-form-field>
                <button mat-raised-button class="sc-btn btn-sc-default" (click)="goToMatch()">Ir para Jogo</button>
              </mat-expansion-panel>
            </mat-accordion>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


<!--

<div class="container">
  <div class="row">
    <div class="col">
      <h2 class="section-title">{{viewModel.personal_info.name}}</h2>
      <form [formGroup]="userDetailsForm">
        <mat-form-field class="full-width">
          <input matInput placeholder="Nome completo" formControlName="name" required>
          <mat-error *ngFor="let validation of validation_messages.name">
            <mat-error class="error-message"
                       *ngIf="userDetailsForm.get('name').hasError(validation.type) && (userDetailsForm.get('name').dirty || userDetailsForm.get('name').touched)">
              {{validation.message}}
            </mat-error>
          </mat-error>
        </mat-form-field>


        <mat-form-field>
          <input matInput [matDatepicker]="picker" placeholder="Your birthday" formControlName="birthday" required>
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
          <mat-error *ngFor="let validation of validation_messages.birthday">
            <mat-error class="error-message"
                       *ngIf="userDetailsForm.get('birthday').hasError(validation.type) && (userDetailsForm.get('birthday').dirty || userDetailsForm.get('birthday').touched)">
              {{validation.message}}
            </mat-error>
          </mat-error>
        </mat-form-field>


        <mat-form-field>
          <mat-select placeholder="Gender">
            <mat-option *ngFor="let gender of genders" [value]="gender">
              {{ gender }}
            </mat-option>
          </mat-select>
          <mat-error *ngFor="let validation of validation_messages.gender">
            <mat-error class="error-message"
                       *ngIf="userDetailsForm.get('gender').hasError(validation.type) && (userDetailsForm.get('gender').dirty || userDetailsForm.get('gender').touched)">
              {{validation.message}}
            </mat-error>
          </mat-error>
        </mat-form-field>


        <div formGroupName="country_phone" class="row">
          <mat-form-field class="full-width col-4">
            <mat-select formControlName="country" placeholder="Country">
              <mat-option *ngFor="let country of countries" [value]="country">
                {{ country.name }}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <mat-form-field>
            <input matInput placeholder="Phone" type="tel" formControlName="phone" required>
            <mat-hint align="start"><strong>Mobile:</strong> {{
              userDetailsForm.value.country_phone.country.sampleMobilePhone }}
            </mat-hint>
            <mat-hint align="end"><strong>Fixed:</strong> {{
              userDetailsForm.value.country_phone.country.sampleFixedPhone }}
            </mat-hint>
            <mat-error *ngFor="let validation of validation_messages.phone">
              <mat-error class="error-message" class="error-message"
                         *ngIf="userDetailsForm.get('country_phone').get('phone').hasError(validation.type) && (userDetailsForm.get('country_phone').get('phone').dirty || userDetailsForm.get('country_phone').get('phone').touched)">
                {{ validation.message }}
              </mat-error>
            </mat-error>
          </mat-form-field>
        </div>

        <mat-form-field class="full-width">
          <textarea matInput maxlength="256" placeholder="Bio" formControlName="bio" matTextareaAutosize
                    matAutosizeMinRows="2" matAutosizeMaxRows="5"></textarea>
          <mat-hint align="start">Tell us about yourself</mat-hint>
          <mat-hint align="end">{{userDetailsForm.get('bio').value.length}} / 256</mat-hint>
          <mat-error *ngFor="let validation of validation_messages.bio">
            <mat-error class="error-message"
                       *ngIf="userDetailsForm.get('bio').hasError(validation.type) && (userDetailsForm.get('bio').dirty || userDetailsForm.get('bio').touched)">
              {{validation.message}}
            </mat-error>
          </mat-error>
        </mat-form-field>


        <button class="submit-btn" color="primary" mat-raised-button type="submit" [disabled]="!userDetailsForm.valid">
          Submit
        </button>

      </form>
    </div>


    <div class="col">
      <h2 class="section-title">Account details</h2>

      <form [formGroup]="accountDetailsForm" novalidate (ngSubmit)="onSubmitAccountDetails(accountDetailsForm.value)">

        <mat-form-field class="full-width">
          <input matInput maxlength="25" placeholder="Username" formControlName="username" required>
          <mat-error *ngFor="let validation of account_validation_messages.username">
            <mat-error class="error-message"
                       *ngIf="accountDetailsForm.get('username').hasError(validation.type) && (accountDetailsForm.get('username').dirty || accountDetailsForm.get('username').touched)">
              {{validation.message}}
            </mat-error>
          </mat-error>
        </mat-form-field>

        <mat-form-field class="full-width">
          <input matInput type="email" placeholder="Email" formControlName="email" required>
          <mat-error *ngFor="let validation of account_validation_messages.email">
            <mat-error class="error-message"
                       *ngIf="accountDetailsForm.get('email').hasError(validation.type) && (accountDetailsForm.get('email').dirty || accountDetailsForm.get('email').touched)">
              {{validation.message}}
            </mat-error>
          </mat-error>
        </mat-form-field>


        <div formGroupName="matching_passwords">
          <mat-form-field class="full-width">
            <input matInput type="password" placeholder="Password" formControlName="password" required>
            <mat-error *ngFor="let validation of account_validation_messages.password">
              <mat-error class="error-message"
                         *ngIf="accountDetailsForm.get('matching_passwords').get('password').hasError(validation.type) && (accountDetailsForm.get('matching_passwords').get('password').dirty || accountDetailsForm.get('matching_passwords').get('password').touched)">
                {{validation.message}}
              </mat-error>
            </mat-error>
          </mat-form-field>

          <mat-form-field class="full-width">
            <input matInput type="password" placeholder="Confirm Password" formControlName="confirm_password"
                   [errorStateMatcher]="parentErrorStateMatcher" required>
            <mat-error *ngFor="let validation of account_validation_messages.confirm_password">
              <mat-error class="error-message"
                         *ngIf="(accountDetailsForm.get('matching_passwords').get('confirm_password').hasError(validation.type)|| accountDetailsForm.get('matching_passwords').hasError(validation.type)) && (accountDetailsForm.get('matching_passwords').get('confirm_password').dirty || accountDetailsForm.get('matching_passwords').get('confirm_password').touched)">
                {{validation.message}}
              </mat-error>
            </mat-error>
          </mat-form-field>

        </div>

        <mat-checkbox formControlName="terms">
          I accept terms and conditions
        </mat-checkbox>
        <mat-error *ngFor="let validation of account_validation_messages.terms">
          <mat-error class="error-message"
                     *ngIf="accountDetailsForm.get('terms').hasError(validation.type) && (accountDetailsForm.get('terms').dirty || accountDetailsForm.get('terms').touched)">
            {{validation.message}}
          </mat-error>
        </mat-error>

        <button class="submit-btn" color="primary" mat-raised-button type="submit"
                [disabled]="!accountDetailsForm.valid">
          Submit
        </button>

      </form>

    </div>
  </div>
</div>
-->
